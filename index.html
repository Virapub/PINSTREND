<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Welcome to PINSTREND, your premium e-commerce destination for Summer Collection 2025. Shop electronics, fashion, and home & kitchen products!">
    <title>Home | PINSTREND - Summer Collection 2025</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">PINSTREND</a>
            <div class="nav-links">
                <a href="index.html" class="active">Home</a>
                <a href="products.html">Products</a>
                <a href="#">Categories</a>
                <a href="#">About</a>
                <a href="#">Contact</a>
            </div>
            <div class="nav-icons">
                <a href="#" class="search-icon"><i class="fas fa-search"></i></a>
                <a href="#" class="user-icon"><i class="fas fa-user"></i></a>
                <a href="cart.html" class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count">0</span>
                </a>
            </div>
            <button class="hamburger"><i class="fas fa-bars"></i></button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Summer Collection 2025</h1>
                <p>Discover our premium products with exclusive discounts as of July 04, 2025</p>
                <a href="products.html" class="btn">Shop Now</a>
            </div>
        </div>
    </section>

    <!-- Featured Categories -->
    <section class="categories">
        <div class="container">
            <h2>Shop by Category</h2>
            <div class="category-grid" id="categoryGrid">
                <!-- Categories will be loaded via JavaScript -->
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="featured-products">
        <div class="container">
            <h2>Featured Products</h2>
            <div class="product-grid" id="featuredProducts"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>PINSTREND</h3>
                    <p>Premium e-commerce solution for all your needs.</p>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <p>Email: info@pintrend.com</p>
                    <p>Phone: +1 (123) 456-7890</p>
                </div>
            </div>
            <div class="copyright">
                <p>© 2025 PINSTREND. All rights reserved. | Last Updated: July 04, 2025</p>
            </div>
        </div>
    </footer>

    <script type="module">
        import pintrendData from './data.js';

        // Toggle hamburger menu
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');
        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });

        // Load categories dynamically
        function loadCategories() {
            const categoryGrid = document.getElementById('categoryGrid');
            pintrendData.getCategories().forEach(category => {
                const categoryCard = document.createElement('div');
                categoryCard.className = 'category-card';
                categoryCard.innerHTML = `
                    <img src="images/${category.toLowerCase()}.jpg" alt="${category}" class="category-img">
                    <h3>${category}</h3>
                    <a href="products.html?category=${category}" class="btn category-btn">Shop Now</a>
                `;
                categoryGrid.appendChild(categoryCard);
            });
        }

        // Load featured products
        function loadFeaturedProducts() {
            const featuredProducts = document.getElementById('featuredProducts');
            featuredProducts.innerHTML = '';
            const allProducts = Object.values(pintrendData.categories).flat();
            const featured = allProducts.sort(() => 0.5 - Math.random()).slice(0, 4); // Random 4 products

            featured.forEach(product => {
                if (product.stock > 0) {
                    const productCard = document.createElement('div');
                    productCard.className = 'product-card';
                    productCard.innerHTML = `
                        <img src="${product.image}" alt="${product.name}" class="product-img" loading="lazy">
                        <div class="product-details">
                            <h3>${product.name}</h3>
                            <p class="price">INR ${product.price.inr} / USD ${product.price.usd}</p>
                            <p class="rating">⭐ ${product.rating} (${product.reviews} reviews)</p>
                            <a href="product-detail.html?id=${product.id}" class="view-details">View Details</a>
                            <button class="add-to-cart" data-product-id="${product.id}" ${product.stock === 0 ? 'disabled' : ''}>
                                ${product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}
                            </button>
                        </div>
                    `;
                    featuredProducts.appendChild(productCard);
                }
            });

            document.querySelectorAll('.add-to-cart').forEach(button => {
                if (!button.disabled) {
                    button.addEventListener('click', () => {
                        pintrendData.addToCart(button.dataset.productId);
                        loadFeaturedProducts();
                        updateCartCount();
                        alert(`${pintrendData.getProductById(button.dataset.productId).name} added to cart!`);
                    });
                }
            });
        }

        // Update cart count
        function updateCartCount() {
            document.getElementById('cart-count').textContent = pintrendData.getCartItems().length;
        }

        // Initial load
        loadCategories();
        loadFeaturedProducts();
        updateCartCount();
    </script>
</body>
</html>
